<section class="elementor-section elementor-top-section elementor-element elementor-element-fd286ed elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="fd286ed" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
  <div class="elementor-container elementor-column-gap-default">
    <div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-92d5fe5" data-id="92d5fe5" data-element_type="column">
      <div class="elementor-widget-wrap elementor-element-populated">
        <div class="elementor-element elementor-element-423637c elementor-widget elementor-widget-heading animated fadeInUp" data-id="423637c" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;}" data-widget_type="heading.default">
          <div class="elementor-widget-container">
            <h2 class="elementor-heading-title elementor-size-default">Payment per month</h2>		</div>
        </div>
        <div class="elementor-element elementor-element-fbf113d elementor-widget elementor-widget-heading animated fadeInUp" data-id="fbf113d" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:300}" data-widget_type="heading.default">
          <div class="elementor-widget-container">
           		</div>
        </div>
        <div class="elementor-element elementor-element-3b6b411 elementor-widget elementor-widget-banca_loan_calculator" data-id="3b6b411" data-element_type="widget" data-widget_type="banca_loan_calculator.default">
          <div class="elementor-widget-container">
            <div class="calculator-widget">
              <div class="row gy-lg-0 gy-3">
                <div class="col-lg-7">
                  <div class="single-calculator-widget wow fadeInUp" data-wow-delay="0.1s">


                 <!--     <div class="range-header d-flex flex-wrap justify-content-between align-items-center mb-25">
                        <h6>Loan Duration</h6>
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                          <li><span class="active_bar left"></span></li>
                          <li class="nav-item" role="presentation">
                            <a class="nav-link active month-tab" id="monthTab" data-bs-toggle="tab" href="#monthTabId" role="tab" aria-controls="monthTabId" aria-selected="true">
                              Month                                    </a>
                          </li>
                          <li class="nav-item " role="presentation">
                            <a class="nav-link year-tab" id="yearTab" data-bs-toggle="tab" href="#yearTabId" role="tab" aria-controls="yearTabId" aria-selected="false">
                              Year                                    </a>
                          </li>
                        </ul>
                        <input type="text" id="SetMonthRange">
                      </div>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="monthTabId" role="tabpanel" aria-labelledby="monthTab">
                          <div id="MonthRangeSlider" class="noUi-target noUi-ltr noUi-horizontal noUi-txt-dir-ltr"><div class="noUi-base"><div class="noUi-connects"><div class="noUi-connect" style="transform: translate(0%, 0px) scale(0.259422, 1);"></div></div><div class="noUi-origin" style="transform: translate(-740.578%, 0px); z-index: 4;"><div class="noUi-handle noUi-handle-lower" data-handle="0" tabindex="0" role="slider" aria-orientation="horizontal" aria-valuemin="12.0" aria-valuemax="48.0" aria-valuenow="21.3" aria-valuetext="21 Months"><div class="noUi-touch-area"></div></div></div></div><div class="noUi-pips noUi-pips-horizontal"><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 0%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="12" style="left: 0%; cursor: pointer;">12</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 16.6667%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="18" style="left: 16.6667%; cursor: pointer;">18</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 33.3333%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="24" style="left: 33.3333%; cursor: pointer;">24</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 50%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="30" style="left: 50%; cursor: pointer;">30</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 66.6667%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="36" style="left: 66.6667%; cursor: pointer;">36</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 83.3333%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="42" style="left: 83.3333%; cursor: pointer;">42</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 100%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="48" style="left: 100%; cursor: pointer;">48</div></div></div>
                        </div>
                        <div class="tab-pane fade" id="yearTabId" role="tabpanel" aria-labelledby="yearTab">
                          <div id="YearRangeSlider" class="noUi-target noUi-ltr noUi-horizontal noUi-txt-dir-ltr"><div class="noUi-base"><div class="noUi-connects"><div class="noUi-connect" style="transform: translate(0%, 0px) scale(0, 1);"></div></div><div class="noUi-origin" style="transform: translate(-1000%, 0px); z-index: 4;"><div class="noUi-handle noUi-handle-lower" data-handle="0" tabindex="0" role="slider" aria-orientation="horizontal" aria-valuemin="2.0" aria-valuemax="8.0" aria-valuenow="2.0" aria-valuetext="2 Years"><div class="noUi-touch-area"></div></div></div></div><div class="noUi-pips noUi-pips-horizontal"><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 0%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="2" style="left: 0%; cursor: pointer;">2</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 16.6667%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="3" style="left: 16.6667%; cursor: pointer;">3</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 33.3333%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="4" style="left: 33.3333%; cursor: pointer;">4</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 50%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="5" style="left: 50%; cursor: pointer;">5</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 66.6667%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="6" style="left: 66.6667%; cursor: pointer;">6</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 83.3333%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="7" style="left: 83.3333%; cursor: pointer;">7</div><div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 100%;"></div><div class="noUi-value noUi-value-horizontal noUi-value-large" data-value="8" style="left: 100%; cursor: pointer;">8</div></div></div>
                        </div>
                      </div> -->
                    </div>

                  </div>
                </div>

                <div class="col-lg-5">
                  <div class="calculator-result-widget bg_disable wow fadeInUp" data-wow-delay="0.3s">

                    <div class="row align-items-center">
                      <div class="col-lg-7 col-md-8 col-sm-7">
                        <div class="emi-amount">
                          <h6>Mensuality</h6>
                       <span>Principal + Interest</span>

                       <!--  <script type="text/javascript">
                              // Ici on apelle la fonction
                              this.retrieveMensuality(28)
                            </script> -->
                          <p> {{this.mensuality}} DT</p>

                        </div>
                        <div class="interest-payable mt-20">
                          <h6>Interest payable</h6>
                        <p>  {{this.gain}} DT </p>


                        </div>
                      </div>
                   <!--   <div class="col-lg-5 col-md-4 col-sm-5 col-7 mx-auto">
                        <svg class="radial-progress" id="LoanGraph" viewBox="0 0 80 80">
                          <circle class="incomplete" cx="40" cy="40" r="35"></circle>
                          <circle class="complete" cx="40" cy="40" r="30" ></circle>
                        </svg>
                      </div> -->
                    </div>
                    <div class="row mt-lg-60 mt-25 text-center">
                      <div class="col-12">
                        <h4 class="mb-1">Total</h4>
                        <h1 class="m-0" id="emiAmount">{{ this.total}} DT</h1>
                        <a href="#" class="theme-btn theme-btn-lg mt-40">
                          Apply Now                                <i class="arrow_right"></i>
                        </a>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

           <!-- <script>
              (function ($) {
                'use strict';

                $(document).ready(function () {

                  // ------- Emi Calculator --------- //
                  var SelectedAmount,
                    selectedTime = {},
                    RateOfInterestTime,
                    RateOfInterestAmount;

                  if (typeof wNumb !== "undefined") {
                    var AmountFormat = wNumb({
                      decimals: 0,
                      thousand: ",",
                      prefix: "$",
                    });

                    var TimeFormatMonths = wNumb({
                      prefix: " months",
                    });
                    var TimeFormatYears = wNumb({
                      prefix: " months",
                    });
                  }

                  //Slider Elements
                  var mySlider = document.getElementById("RangeSlider");
                  var mySliderMonth = document.getElementById("MonthRangeSlider");
                  var mySliderYear = document.getElementById("YearRangeSlider");
                  //-----home page 2
                  var SliderAmount = document.getElementById("SliderAmount");
                  var SliderPeriod = document.getElementById("SliderPeriod");

                  function clickOnPip(sliderName, This) {
                    var value = Number(This.getAttribute("data-value"));
                    sliderName.noUiSlider.set(value);
                  }

                  function SetPipsOnSlider(PipsName, sliderName) {
                    for (var i = 0; i < PipsName.length; i++) {
                      PipsName[i].style.cursor = "pointer";
                      PipsName[i].addEventListener("click", function () {
                        clickOnPip(sliderName, this);
                      });
                    }
                  }

                  //   Activate Range Sliders
                  if (mySlider && mySliderMonth && mySliderYear) {
                    noUiSlider.create(mySlider, {
                      start: [ 15000],
                      connect: "lower",
                      range: {
                        min: 5000,
                        max: 150000,
                      },
                      format: wNumb({
                        decimals: 0,
                        thousand: ",",
                        prefix: "$ ",
                      }),
                      pips: {
                        mode: "values",
                        density: 100,

                        values: [5000, 25000, 50000, 75000, 100000, 125000, 150000],
                        stepped: true,
                        format: wNumb({
                          encoder: function (a) {
                            return a / 1000;
                          },
                          decimals: 0,
                          prefix: "$",
                          suffix: "k",
                        }),
                      },
                    });
                    noUiSlider.create(mySliderMonth, {
                      start: [18],
                      connect: "lower",
                      range: {
                        min: 12,
                        max: 48,
                      },
                      format: wNumb({
                        decimals: 0,
                        suffix: " Months",
                      }),
                      pips: {
                        mode: "values",
                        density: 100,

                        values: [12, 18, 24, 30, 36, 42, 48],
                        stepped: true,
                        format: wNumb({
                          decimals: 0,
                        }),
                      },
                    });
                    noUiSlider.create(mySliderYear, {
                      start: [2],
                      connect: "lower",
                      range: {
                        min: 2,
                        max: 8,
                      },
                      format: wNumb({
                        decimals: 0,
                        suffix: " Years",
                      }),
                      pips: {
                        mode: "values",
                        density: 100,
                        values: [2, 3, 4, 5, 6, 7, 8],
                        stepped: true,
                        format: wNumb({
                          decimals: 0,
                        }),
                      },
                    });
                    //Slider Pips
                    var pips = mySlider.querySelectorAll(".noUi-value");
                    var pipsMonth = mySliderMonth.querySelectorAll(".noUi-value");
                    var pipsYear = mySliderYear.querySelectorAll(".noUi-value");

                    //Slider Input Element
                    var inputMonthFormat = document.getElementById("SetMonthRange");
                    var inputFormat = document.getElementById("SetRange");

                    SetPipsOnSlider(pips, mySlider);
                    SetPipsOnSlider(pipsMonth, mySliderMonth);
                    SetPipsOnSlider(pipsYear, mySliderYear);
                    mySlider.noUiSlider.on("update", function (values, handle) {
                      inputFormat.value = values[handle];
                      SelectedAmount = AmountFormat.from(values[handle]);
                      CalculateAmount();
                    });

                    inputFormat.addEventListener("change", function () {
                      mySlider.noUiSlider.set(this.value);
                    });

                    if ($("#monthTab.active").length > 0) {
                      mySliderMonth.noUiSlider.on("update", function (values, handle) {
                        inputMonthFormat.value = values[handle];
                        selectedTime = {
                          type: "month",
                          value: TimeFormatMonths.from(values[handle]),
                        };

                        CalculateAmount();
                      });

                      inputMonthFormat.addEventListener("change", function () {
                        mySliderMonth.noUiSlider.set(this.value);
                      });
                    } else if ($("#yearTab.active").length > 0) {
                      mySliderYear.noUiSlider.on("update", function (values, handle) {
                        inputMonthFormat.value = values[handle];

                        selectedTime = {
                          type: "year",
                          value: TimeFormatYears.from(values[handle]),
                        };
                        CalculateAmount();
                      });
                    }

                    inputMonthFormat.addEventListener("change", function () {
                      if ($("#monthTab.active").length > 0) {
                        mySliderMonth.noUiSlider.set(this.value);
                      } else if ($("#yearTab.active").length > 0) {
                        mySliderYear.noUiSlider.set(this.value);
                      }
                    });

                    $("#yearTab").click(function () {
                      mySliderMonth.noUiSlider.off("update", function (values, handle) {
                        inputMonthFormat.value = values[handle];
                        selectedTime = {
                          type: "month",
                          value: TimeFormatMonths.from(values[handle]),
                        };
                        CalculateAmount();
                      });
                      mySliderYear.noUiSlider.on("update", function (values, handle) {
                        inputMonthFormat.value = values[handle];
                        selectedTime = {
                          type: "year",
                          value: TimeFormatYears.from(values[handle]),
                        };
                        CalculateAmount();
                      });
                    });
                    $("#monthTab").click(function () {
                      mySliderYear.noUiSlider.off("update", function (values, handle) {
                        inputMonthFormat.value = values[handle];
                        selectedTime = {
                          type: "year",
                          value: TimeFormatYears.from(values[handle]),
                        };
                        CalculateAmount();
                      });
                      mySliderMonth.noUiSlider.on("update", function (values, handle) {
                        inputMonthFormat.value = values[handle];
                        selectedTime = {
                          type: "month",
                          value: TimeFormatMonths.from(values[handle]),
                        };
                        CalculateAmount();
                      });
                    });
                  }

                  if (SliderAmount && SliderPeriod) {
                    noUiSlider.create(SliderAmount, {
                      start: [100000],
                      connect: "lower",
                      range: {
                        min: 5000,
                        max: 250000,
                      },
                      format: wNumb({
                        decimals: 0,
                        thousand: ",",
                        prefix: "$ ",
                      }),
                    });
                    noUiSlider.create(SliderPeriod, {
                      start: [3],
                      connect: "lower",
                      range: {
                        min: 1,
                        max: 5,
                      },
                      format: wNumb({
                        decimals: 0,
                        suffix: " year",
                      }),
                    });

                    var SliderAmountFormat = document.getElementById("SetSliderAmount");
                    var SliderPeriodFormat = document.getElementById("SetSliderPeriod");

                    SliderAmount.noUiSlider.on("update", function (values, handle) {
                      SliderAmountFormat.value = values[handle];
                    });
                    SliderPeriod.noUiSlider.on("update", function (values, handle) {
                      SliderPeriodFormat.value = values[handle];
                    });

                    SliderAmountFormat.addEventListener("change", function () {
                      SliderAmount.noUiSlider.set(this.value);
                    });
                    SliderPeriodFormat.addEventListener("change", function () {
                      SliderPeriod.noUiSlider.set(this.value);
                    });
                  }

                  function CalculateAmount() {


                    // Monthly Loan
                    if (selectedTime.type === "month") {
                      var LoanTime = selectedTime.value;

                      let monthlyLoan = [{"_id":"766a3d0","number_of_month":"12","monthly_interest_rate":"7.15"},{"number_of_month":"18","monthly_interest_rate":"7","_id":"8d34efa"},{"number_of_month":"24","monthly_interest_rate":"6.9","_id":"6c54052"},{"number_of_month":"30","monthly_interest_rate":"6.7","_id":"0196d7c"},{"_id":"7efe621","number_of_month":"36","monthly_interest_rate":"6.55"},{"_id":"cf5616a","number_of_month":"42","monthly_interest_rate":"6.4"},{"_id":"8f2ce27","number_of_month":"48","monthly_interest_rate":"6"}];
                      monthlyLoan.forEach(function (elements) {
                        if (LoanTime >= elements.number_of_month) {
                          RateOfInterestTime = elements.monthly_interest_rate;
                        }
                      })

                    }


                    // Yearly loan
                    if (selectedTime.type === "year") {
                      var LoanTime = selectedTime.value;

                      let yearly_loan = [{"_id":"affb8dd","number_of_year":"2","yearly_interest_rate":"3.1"},{"_id":"db0ea1f","number_of_year":"3","yearly_interest_rate":"2.9"},{"_id":"41061c6","number_of_year":"4","yearly_interest_rate":"2.7"},{"_id":"187ec50","number_of_year":"5","yearly_interest_rate":"2.5"},{"_id":"8faae7a","number_of_year":"6","yearly_interest_rate":"2.3"},{"_id":"0772354","number_of_year":"7","yearly_interest_rate":"2.2"},{"_id":"fb2d9f8","number_of_year":"8","yearly_interest_rate":"2"}];
                      yearly_loan.forEach(function (elements) {
                        if (LoanTime >= elements.number_of_year) {
                          RateOfInterestTime = elements.yearly_interest_rate;
                        }
                      });

                      selectedTime = {
                        value: selectedTime.value * 12
                      }

                    }


                    if (typeof SelectedAmount === "number") {
                      RateOfInterestAmount = 0;
                    }

                    var TotalRateOfInterest = (RateOfInterestAmount + RateOfInterestTime) / 100;
                    var TotalInterest = SelectedAmount * TotalRateOfInterest;
                    var InterestAndPrincipal = TotalInterest + SelectedAmount;

                    $("#TotalAmount").text(AmountFormat.to(InterestAndPrincipal) + "*");
                    $("#emiAmount").text(
                      AmountFormat.to(InterestAndPrincipal / selectedTime.value) + "*"
                    );
                    $("#InterestPayable").text(AmountFormat.to(TotalInterest) + "*");
                    $("#InterestAmount").text((TotalRateOfInterest * 100).toFixed(2) + " %");

                    var percent, graphRadius, circumference, strokeDashOffset;
                    var GraphEl = $("#LoanGraph");
                    percent = (100 * TotalInterest) / InterestAndPrincipal;
                    graphRadius = GraphEl.find($("circle.complete")).attr("r");
                    circumference = 2 * Math.PI * graphRadius;
                    strokeDashOffset = circumference - (percent * circumference) / 100;
                    GraphEl.find($("circle.complete"))
                      .css({"stroke-dashoffset": "0", opacity: "0.1"})
                      .animate({"stroke-dashoffset": strokeDashOffset, opacity: "1"}, 1250);

                    if ($("#monthTab").hasClass("active")) {
                      $(".active_bar").addClass("left");
                    } else {
                      $(".active_bar").removeClass("left");
                    }
                  }

                  // End of Calculator


                })
              })(jQuery);
            </script> -->
          </div>
        </div>
      </div>
    </div>

</section>
